var ulive=function(e){let l,t;const a=e=>(e.toJSON=e.then=e.toString=e.valueOf=()=>e.value,e),n=(e,n,u=new Set)=>a({get value(){return l?.deps.push(u.add(l)),e},set value(l){if(l!==e){e=l;for(let e of u)t?t.add(e):e()}},peek:()=>e}),u=(e,t,a,n)=>(n=(a=n=>{t?.call?.(),n=l,l=a;try{t=e()}finally{l=n}}).deps=[],a(),e=>{for(t?.call?.();e=n.pop();)e.delete(a)});return e.batch=e=>{let l=t;l||(t=new Set);try{e()}finally{if(!l){l=t,t=null;for(const e of l)e()}}},e.computed=(e,l=n(),t,r)=>a({get value(){return r||=u((()=>l.value=e())),l.value},peek:l.peek}),e.effect=u,e.signal=n,e.untracked=(e,t,a)=>(t=l,l=null,a=e(),l=t,a),e}({});
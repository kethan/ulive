var ulive=function(e){let t,l;const n=e=>(e.toJSON=e.then=e.toString=e.valueOf=()=>e(),e),f=(e,f=new Set,r)=>n(r=(...n)=>{if(!n.length)return t?.deps.push(f.add(t)),e;if(e!==n[0]){e=n[0];for(let t of f)l?l.add(t):t(e)}},r.peek=()=>e),r=(e,l,n,f)=>(f=(n=f=>{l?.call?.(),f=t,t=n;try{l=e()}finally{t=f}}).deps=[],n(),e=>{for(l?.call?.();e=f.pop();)e.delete(n)});return e.batch=e=>{let t=l;t||(l=new Set);try{e()}finally{if(!t){t=l,l=null;for(const e of t)e()}}},e.effect=r,e.memo=(e,t=f(),l,o)=>n(l=(...l)=>{if(!l.length)return o||=r((()=>t(e()))),t()},l.peek=t.peek),e.o=f,e.untracked=(e,l,n)=>(l=t,t=null,n=e(),t=l,n),e}({});